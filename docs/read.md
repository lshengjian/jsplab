以下是将论文翻译为中文后整理的Markdown文件源码：

# 《用于循环多起重机调度的新模型及高效分支定界解法》

**作者**：Yun Jiang（江云），Jiyin Liu（刘吉银）

## 摘要
本文研究了电镀生产线中的多起重机循环调度问题，其中每个槽中零件的加工时间必须在给定的上下限内，并且允许零件在槽之间沿生产线双向移动。通过分析起重机移动的相对位置，推导出了表达无碰撞要求的线性约束条件，进而建立了一个新的混合整数线性规划模型，并提出了一种高效的分支定界策略来求解该问题。计算结果表明，新模型比现有文献中的模型求解速度更快，且所提出的解法比商业软件包更高效。

## 一、引言
### （一）问题背景
电镀生产线由若干装有化学溶液的槽组成。生产时，多个印刷电路板（PCB）在装载站装入一个载体形成生产单元负载，然后按给定顺序在槽中加工，每个槽每次最多加工一个载体，加工时间需在上下限范围内，加工完成后在卸载站卸载。可编程起重机安装在电镀线上方的轨道上，负责在槽之间移动载体，且槽之间无缓冲区，为避免PCB氧化影响质量，载体移动要尽快。电镀线按批处理PCB，一批完成后需调整，起重机需按新批次要求重新编程执行新的转移操作序列，两次连续重复操作之间的周期即为生产周期。

### （二）研究现状
起重机调度问题自1976年以来受到学术关注。以往研究多集中于单起重机情况，其已被证明是NP完全问题，但实际单起重机问题因槽数量有限可成功求解。对于多槽情况，常使用多台起重机，多起重机问题因需避免碰撞更具挑战性。本文研究的是一般的循环多起重机调度问题。

## 二、问题定义
考虑一个由装载站、\(n\)个化学槽和卸载站组成的电镀线，线上有\(m\)台起重机。生产线循环运行，每个周期引入一个载体，载体按给定顺序在槽中加工，每个阶段的加工时间在\(a_i\)和\(b_i\)之间。当载体在槽\(s_i\)加工完成后，起重机需将其转移到槽\(s_{i + 1}\)，整个转移操作称为移动\(i\)，记为\(m_i\)，其总时间\(r_i=\mu_i + |w_{s_{i + 1}} - w_{s_i}|/v+\eta_i\)。在循环操作中，每个周期都要执行所有移动操作，且要满足槽和起重机的约束以及无碰撞要求，目标是最小化周期长度\(T\)。

## 三、无碰撞约束
### （一）决策变量
定义\(t_i\)为移动\(i\)在周期\([0, T)\)内的开始时间。

### （二）个体移动约束
考虑相邻起重机之间的安全距离\(d\)，通过分析起重机在轨道上的运行范围，得到移动\(i\)可由起重机\(k\)执行的约束条件为：
\(\begin{gathered}
\max \left\{1,\left\lceil m-\left(w_{r}-\max \left(w_{s_{i}}, w_{s_{i + 1}}\right)\right) / d\right\rceil\right\} \leq k \\
\leq \min \left\{m,\left\lfloor\left(1+\min \left(w_{s_{i}}, w_{s_{i + 1}}\right)-w_{l}\right) / d\right\rfloor\right\}
\end{gathered}\)

### （三）移动对约束
考虑一对移动\(i\)和\(j\)，执行它们的起重机分别为\(p\)和\(q\)，定义\(h = q - p\)。根据\(h\)的值以及槽位置的不同情况，分别讨论约束条件：
1. 当\(h = 0\)时，两个移动由同一起重机执行，此时需有足够时间让起重机在两次移动之间空载移动，约束条件为\(t_j - t_i \in \bigcup_{\substack{k = -\infty \\(k + 1)T - r_j - \left(w_{s_{i}} - w_{s_{i + 1}}\right) / \lambda}}^{\infty}\left[kT + r_i + \left(w_{s_{j}} - w_{s_{i + 1}}\right) / \lambda \leq t_j - t_i \leq (k + 1)T - r_j - \left(w_{s_{i}} - w_{s_{j + 1}}\right) / \lambda\right]\)
2. 当\(h > 0\)时，起重机\(q\)在起重机\(p\)上方，约束条件为\(t_j - t_i \in \bigcup_{k = -\infty}^{\infty}\left[kT + r_i - \mu_j - \left[w_{s_{j}} - \left(w_{s_{i + 1}} + h d\right)\right] / v \leq t_j - t_i \leq (k + 1)T + \mu_i + \left[w_{s_{j + 1}} - \left(w_{s_{i}} + h d\right)\right) / v - r_j\right]\)
3. 当\(h < 0\)时，起重机\(q\)在起重机\(p\)下方，约束条件为\(t_j - t_i \in \bigcup_{k = -\infty}^{\infty}\left[kT + r_i + \left[w_{s_{j}} - \left(w_{s_{i + 1}} + h d\right)\right) / \lambda \leq t_j - t_i \leq (k + 1)T - \left[w_{s_{j + 1}} - \left(w_{s_{i}} + h d\right)\right) / \lambda - r_j\right]\)

一般地，一对移动\(i\)和\(j\)的无碰撞约束可表示为\(t_j - t_i \in \bigcup_{k = -\infty}^{\infty}\left[kT + \alpha_{ij}^{h},(k + 1)T + \beta_{ij}^{h}\right]\)，其中\(\alpha_{ij}^{h}\)和\(\beta_{ij}^{h}\)根据不同情况有不同的计算公式。

## 四、一种新的混合整数规划模型
### （一）模型参数与变量
1. **参数**
   - 定义\(I_i\)和\(u_i\)分别表示个体移动约束下可分配给移动\(i\)的最左和最左起重机。
   - \(M\)为一个大正数。
2. **决策变量**
   - \(T\)为周期长度。
   - \(t_i\)为移动\(i\)在周期\([0, T)\)内的开始时间。
   - \(z_{ik}\)表示移动\(m_i\)是否由起重机\(k\)执行。
   - 根据\(\alpha_{ij}^{h}$和$\beta_{ij}^{h}$的不同情况，定义$x_{ij}$和$y_{ij}$辅助表示移动对约束。

### （二）模型建立
基于上述变量和约束，建立混合整数线性规划模型$(MIP)$，目标函数为$\min T$，约束条件包括处理时间约束、移动对约束以及非负性和二进制约束等。

## 五、一种分支定界算法
### （一）分支方案
基于问题特性，提出在二进制变量$x_{i - 1,i}$上进行分支的策略。通过分析固定$x_{i - 1,i}$的值对移动操作开始时间的影响，构建搜索树。搜索树从根节点开始，根节点代表原始问题，定义每个载体的移动$0$开始一个新周期。各层节点根据$x_{i - 1,i}$的值进行分支，最后一层节点为叶子节点。

### （二）简单界
1. 对于根节点，定义初始下界为$\max_{i = 1,2,\cdots,n}{a_i}$，上界为$e_n + r_n + |w_{s_{n + 1}}| / \lambda$。
2. 对于搜索树中的任意节点，根据其前面节点的信息，推导出与该节点相关的简单下界和上界不等式。

### （三）改进的下界
当一个新节点在分支定界过程中生成时，如果不能通过简单界进行判断，则通过求解一个与该节点相关的简化混合整数规划模型来计算更紧的下界。该简化模型通过修改原始模型$(MIP)$得到，去除一些不必要的约束和变量。

## 六、计算结果与讨论
### （一）实验设置
在一台具有奔腾酷睿2双核2.0GHz CPU和2G内存的PC上，使用CPLEX 11.11软件包对模型进行求解。测试了一个基准问题和一组随机生成的问题。

### （二）基准问题结果
1. 对于不同数量起重机的基准问题，计算出最优周期长度。结果表明，随着起重机数量增加，周期长度逐渐减小，直到达到一个稳定值，此时再增加起重机可能会因干扰增加而使周期长度增大。
2. 比较了新模型与现有模型（Leung - Zhang模型）以及不同求解方法（直接求解模型和使用分支定界算法）的CPU时间。结果显示新模型比Leung - Zhang模型更高效，尤其是在多起重机情况下，且分支定界算法比直接求解模型更高效，改进的下界进一步缩短了时间。

### （三）随机问题结果
1. 随机生成了不同规模（12、16、20个槽）和不同时间窗口限制的问题，计算出平均最优周期长度。结果表明最优周期长度对加工时间窗口敏感，窗口增大时周期长度减小。
2. 比较了新模型和Leung - Zhang模型在求解12个槽问题时的CPU时间，结果显示新模型在多起重机情况下求解速度比Leung - Zhang模型快数百倍。
3. 比较了直接使用CPLEX求解模型和使用分支定界算法求解随机问题的平均CPU时间，结果表明分支定界算法在所有情况下都优于CPLEX的一般分支定界程序，且问题规模越大优势越明显。

## 七、结论
本文研究了电镀线中加工时间在给定范围内的一般多起重机循环调度问题。通过分析起重机之间的无碰撞要求，建立了新的混合整数线性规划模型，并提出了高效的分支定界算法。计算实验表明该算法能在较短时间内求解实际规模的问题。本文处理无碰撞要求的方法对其他有类似要求的问题也有帮助。
